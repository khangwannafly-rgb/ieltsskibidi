<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>IELTS Free Tutor</title>
    <link rel="stylesheet" href="/style.css" />
  </head>
  <body>
    <header>
      <h1>IELTS Free Tutor</h1>
      <nav>
        <button data-tab="dashboard">Dashboard</button>
        <button data-tab="vocab">Vocabulary</button>
        <button data-tab="reading">Reading</button>
        <button data-tab="writing">Writing</button>
        <button data-tab="speaking">Speaking</button>
        <button data-tab="listening">Listening</button>
      </nav>
    </header>
    <main>
      <section id="auth">
        <h2>Auth</h2>
        <input id="email" placeholder="email" />
        <input id="password" placeholder="password" type="password" />
        <button id="register">Register</button>
        <button id="login">Login</button>
        <button id="logout">Logout</button>
        <span id="auth-status"></span>
      </section>

      <section id="dashboard" class="tab">
        <h2>Dashboard</h2>
        <div class="grid2">
          <div>
            <canvas id="progress-chart" height="180"></canvas>
            <button id="refresh-progress">Refresh Progress</button>
          </div>
          <div>
            <table id="progress-table">
              <thead>
                <tr><th>Time</th><th>Skill</th><th>Score</th></tr>
              </thead>
              <tbody></tbody>
            </table>
          </div>
        </div>
      </section>

      <section id="vocab" class="tab">
        <h2>Vocabulary</h2>
        <div class="row">
          <input id="word" placeholder="word" />
          <button id="vocab-suggest">Suggest Word</button>
        </div>
        <select id="level">
          <option>CEFR-A2</option><option>CEFR-B1</option><option>CEFR-B2</option><option>CEFR-C1</option>
        </select>
        <button id="vocab-generate">Generate Practice</button>
        <pre id="vocab-output"></pre>
      </section>

      <section id="reading" class="tab hidden">
        <h2>Reading</h2>
        <div class="row">
          <button id="reading-generate">Generate Random Passage & Questions</button>
        </div>
        <textarea id="reading-passage" rows="6" placeholder="Paste passage"></textarea>
        <textarea id="reading-answers" rows="4" placeholder='Answers JSON e.g. [{"id":1,"answer":"A"}]'></textarea>
        <button id="reading-explain">Explain Answers</button>
        <pre id="reading-output"></pre>
      </section>

      <section id="writing" class="tab hidden">
        <h2>Writing</h2>
        <div class="row">
          <select id="writing-type">
            <option value="writing_task1">Task 1 (Academic)</option>
            <option value="writing_task2" selected>Task 2 (Essay)</option>
          </select>
          <button id="writing-generate">Generate Prompt</button>
        </div>
        <input id="writing-prompt" placeholder="Task prompt" />
        <textarea id="writing-essay" rows="8" placeholder="Write your essay"></textarea>
        <button id="writing-eval">Evaluate</button>
        <pre id="writing-output"></pre>
      </section>

      <section id="speaking" class="tab hidden">
        <h2>Speaking</h2>
        <div class="row">
          <button id="speaking-generate">Generate Random Question</button>
        </div>
        <input id="speaking-question" value="Describe a memorable journey." />
        <div class="row">
          <select id="speaking-voice"></select>
          <button id="speaking-start">Start Speaking</button>
          <button id="speaking-stop">Stop</button>
        </div>
        <pre id="speaking-transcript"></pre>
        <pre id="speaking-output"></pre>
      </section>

      <section id="listening" class="tab hidden">
        <h2>Listening</h2>
        <div class="row">
          <button id="listening-generate">Generate Random Transcript & Questions</button>
        </div>
        <textarea id="listening-transcript" rows="6" placeholder="Transcript for listening practice"></textarea>
        <textarea id="listening-answers" rows="4" placeholder='Answers JSON e.g. [{"id":1,"answer":"blue"}]'></textarea>
        <button id="listening-speak">Play Audio</button>
        <button id="listening-explain">Explain</button>
        <pre id="listening-output"></pre>
      </section>
    </main>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="/js/webspeech.js"></script>
    <script src="/js/app.js"></script>
  </body>
</html>
